2020-11-24 15:36:35,791 DEBUG    root            Loaded Command Group: ['gcloud', 'functions']
2020-11-24 15:36:35,858 DEBUG    root            Loaded Command Group: ['gcloud', 'functions', 'deploy']
2020-11-24 15:36:35,890 DEBUG    root            Running [gcloud.functions.deploy] with arguments: [--memory: "2147483648", --runtime: "nodejs10", --timeout: "540", --trigger-topic: "launch-lighthouse", NAME: "launchLighthouse"]
2020-11-24 15:36:36,571 INFO     root            Using default gcloudignore file:
--------------------------------------------------
# This file specifies files that are *not* uploaded to Google Cloud Platform
# using gcloud. It follows the same syntax as .gitignore, with the addition of
# "#!include" directives (which insert the entries of the given .gitignore-style
# file at that point).
#
# For more information, run:
#   $ gcloud topic gcloudignore
#
.gcloudignore
# If you would like to upload your .git directory, .gitignore file or files
# from your .gitignore file, remove the corresponding line
# below:
.git
.gitignore

node_modules
#!include:.gitignore

--------------------------------------------------
2020-11-24 15:36:36,571 INFO     ___FILE_ONLY___ Created .gcloudignore file. See `gcloud topic gcloudignore` for details.

2020-11-24 15:36:36,582 DEBUG    root            Skipping file [./.gitignore]
2020-11-24 15:36:36,582 DEBUG    root            Skipping file [./.gcloudignore]
2020-11-24 15:36:36,584 DEBUG    root            Skipping file [./.git/config]
2020-11-24 15:36:36,584 DEBUG    root            Skipping file [./.git/HEAD]
2020-11-24 15:36:36,584 DEBUG    root            Skipping file [./.git/description]
2020-11-24 15:36:36,584 DEBUG    root            Skipping file [./.git/index]
2020-11-24 15:36:36,584 DEBUG    root            Skipping file [./.git/packed-refs]
2020-11-24 15:36:36,585 DEBUG    root            Skipping file [./.git/objects/pack/pack-e5c1c958e9d37581c762f9666fc8000cfcd4ac17.idx]
2020-11-24 15:36:36,586 DEBUG    root            Skipping file [./.git/objects/pack/pack-e5c1c958e9d37581c762f9666fc8000cfcd4ac17.pack]
2020-11-24 15:36:36,586 DEBUG    root            Skipping file [./.git/info/exclude]
2020-11-24 15:36:36,586 DEBUG    root            Skipping file [./.git/logs/HEAD]
2020-11-24 15:36:36,587 DEBUG    root            Skipping file [./.git/logs/refs/heads/master]
2020-11-24 15:36:36,587 DEBUG    root            Skipping file [./.git/logs/refs/remotes/origin/HEAD]
2020-11-24 15:36:36,587 DEBUG    root            Skipping file [./.git/hooks/commit-msg.sample]
2020-11-24 15:36:36,587 DEBUG    root            Skipping file [./.git/hooks/pre-rebase.sample]
2020-11-24 15:36:36,588 DEBUG    root            Skipping file [./.git/hooks/pre-commit.sample]
2020-11-24 15:36:36,588 DEBUG    root            Skipping file [./.git/hooks/applypatch-msg.sample]
2020-11-24 15:36:36,588 DEBUG    root            Skipping file [./.git/hooks/fsmonitor-watchman.sample]
2020-11-24 15:36:36,588 DEBUG    root            Skipping file [./.git/hooks/pre-receive.sample]
2020-11-24 15:36:36,588 DEBUG    root            Skipping file [./.git/hooks/prepare-commit-msg.sample]
2020-11-24 15:36:36,589 DEBUG    root            Skipping file [./.git/hooks/post-update.sample]
2020-11-24 15:36:36,589 DEBUG    root            Skipping file [./.git/hooks/pre-merge-commit.sample]
2020-11-24 15:36:36,589 DEBUG    root            Skipping file [./.git/hooks/pre-applypatch.sample]
2020-11-24 15:36:36,589 DEBUG    root            Skipping file [./.git/hooks/pre-push.sample]
2020-11-24 15:36:36,589 DEBUG    root            Skipping file [./.git/hooks/update.sample]
2020-11-24 15:36:36,590 DEBUG    root            Skipping file [./.git/refs/heads/master]
2020-11-24 15:36:36,590 DEBUG    root            Skipping file [./.git/refs/remotes/origin/HEAD]
2020-11-24 15:36:36,592 INFO     root            Using ignore file at [./.gcloudignore].
2020-11-24 15:36:36,600 DEBUG    root            Skipping file [./.gitignore]
2020-11-24 15:36:36,602 DEBUG    root            Skipping file [./.gcloudignore]
2020-11-24 15:36:36,611 DEBUG    root            Skipping file [.git]
2020-11-24 15:36:36,612 DEBUG    root            Skipping file [.git/objects]
2020-11-24 15:36:36,612 DEBUG    root            Skipping file [.git/objects/pack]
2020-11-24 15:36:36,613 DEBUG    root            Skipping file [.git/objects/info]
2020-11-24 15:36:36,613 DEBUG    root            Skipping file [.git/info]
2020-11-24 15:36:36,613 DEBUG    root            Skipping file [.git/logs]
2020-11-24 15:36:36,613 DEBUG    root            Skipping file [.git/logs/refs]
2020-11-24 15:36:36,614 DEBUG    root            Skipping file [.git/logs/refs/heads]
2020-11-24 15:36:36,614 DEBUG    root            Skipping file [.git/logs/refs/remotes]
2020-11-24 15:36:36,614 DEBUG    root            Skipping file [.git/logs/refs/remotes/origin]
2020-11-24 15:36:36,615 DEBUG    root            Skipping file [.git/hooks]
2020-11-24 15:36:36,615 DEBUG    root            Skipping file [.git/refs]
2020-11-24 15:36:36,615 DEBUG    root            Skipping file [.git/refs/heads]
2020-11-24 15:36:36,616 DEBUG    root            Skipping file [.git/refs/tags]
2020-11-24 15:36:36,616 DEBUG    root            Skipping file [.git/refs/remotes]
2020-11-24 15:36:36,616 DEBUG    root            Skipping file [.git/refs/remotes/origin]
2020-11-24 15:36:46,194 DEBUG    root            Caught delayed permission propagation error, retrying
2020-11-24 15:36:49,465 INFO     ___FILE_ONLY___ Deploying function (may take a while - up to 2 minutes)...
2020-11-24 15:36:52,115 DEBUG    root            (gcloud.functions.deploy) OperationError: code=7, message=Build failed: Cloud Build API has not been used in project 311981865459 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/cloudbuild.googleapis.com/overview?project=311981865459 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.
Traceback (most recent call last):
  File "/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/lib/googlecloudsdk/calliope/cli.py", line 983, in Execute
    resources = calliope_command.Run(cli=self, args=args)
  File "/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/lib/googlecloudsdk/calliope/backend.py", line 808, in Run
    resources = command_instance.Run(args)
  File "/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/lib/surface/functions/deploy.py", line 409, in Run
    return _Run(args, track=self.ReleaseTrack())
  File "/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/lib/surface/functions/deploy.py", line 358, in _Run
    api_util.WaitForFunctionUpdateOperation(
  File "/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/lib/googlecloudsdk/api_lib/functions/util.py", line 318, in CatchHTTPErrorRaiseHTTPExceptionFn
    return func(*args, **kwargs)
  File "/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/lib/googlecloudsdk/api_lib/functions/util.py", line 367, in WaitForFunctionUpdateOperation
    operations.Wait(op, client.MESSAGES_MODULE, client, _DEPLOY_WAIT_NOTICE,
  File "/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/lib/googlecloudsdk/api_lib/functions/operations.py", line 150, in Wait
    _WaitForOperation(client, request, notice, try_set_invoker,
  File "/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/lib/googlecloudsdk/api_lib/functions/operations.py", line 113, in _WaitForOperation
    retryer.RetryOnResult(_GetOperationStatus,
  File "/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/lib/googlecloudsdk/core/util/retry.py", line 219, in RetryOnResult
    result = func(*args, **kwargs)
  File "/usr/local/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/lib/googlecloudsdk/api_lib/functions/operations.py", line 73, in _GetOperationStatus
    raise exceptions.FunctionsError(OperationErrorToString(op.error))
googlecloudsdk.api_lib.functions.exceptions.FunctionsError: OperationError: code=7, message=Build failed: Cloud Build API has not been used in project 311981865459 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/cloudbuild.googleapis.com/overview?project=311981865459 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.
2020-11-24 15:36:52,128 ERROR    root            (gcloud.functions.deploy) OperationError: code=7, message=Build failed: Cloud Build API has not been used in project 311981865459 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/cloudbuild.googleapis.com/overview?project=311981865459 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.
